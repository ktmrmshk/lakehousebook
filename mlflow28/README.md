# MLflow2.8の新しい機能

MLflow2.8では、昨今の大規模言語モデル(Large Language Model, LLM)の広まりを受けて、LLMの構築や運用に関わる機能が追加されました。LLMは、実際にはDNNモデルという意味では従来の機械学習の運用の延長線上にあります。一方で、実際には従来の機械学習とは異なる扱いをする点もいくつかあります。例えば、LLMはモデルサイズが非常に大きく、スクラッチからモデルを作成するよりも既存のモデルを使用する、もしくは、既存のモデルをベースに転移学習やファインチューニングを実施することが現状ではほとんどのケースになっています。

そのため、さまざまなLLMに関わるサービスやツールが開発・公開されており、これらを比較しながら最適なLLMシステムを構築する必要があります。また、モデルの評価方法についても、LLM自体の対象が自然言語であることから、数値的なメトリックに加えて、われわれ人間が確認する場面も多いです。プロンプトエンジニアリングにおいても、人間が入力し、出力を目でみて評価する作業の繰り返しになります。MLflow2.8では、LLMを扱う上で必要な作業を効率的に実施するヘルパー機能が追加されています。

## MLflow AI Gateway

MLflow AI Gatewayは、さまざまなLLMプロバイダやフレームワークとの連携のための統一したインタフェースを提供する機能です。執筆時点ではOpenAI、MosaicML、Cohere、Anthropic、PaLM 2、AWS Bedrock、AI21 Labsなどに対応しています。また、メジャーなSaaS LLMプロバイダーのサポートに加え、MLflowモデルサービングへの統合も実装されており、独自のLLMや微調整された基盤モデルを自社のサービングインフラストラクチャ内でサービングすることができます。

MLflow AI Gatewayを利用することで以下のメリットが享受できます。

1. 統一されたエンドポイントとAPI実装: LLMプロバイダごと独自APIを隠蔽します
1. シンプルな設計: 設定やセットアップが一度で完結
1. 安全なクレデンシャル管理: APIキーの一元管理とハードコーディングの回避
1. ゼロダウンタイムでのLLMプロバイダ切り替え: コード変更なしにLLMプロバイダやルートを変更




